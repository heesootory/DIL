# 7.파일과 디렉토리 검색하기.


## 파일 내용 검색

### grep 사용법

```bash
$ grep [옵션] 패턴 파일명들
```

* global regular expression print
* 지정한 파일에 특정 문자열(패턴)이 들어있는지 검색
* 패턴 : 문자, 문자열, 문장,  정규표현식
* 옵션 
    - -i : 대소문자를 무시하고 검색
    - -l : 해당 패턴이 들어있는 파일 이름을 출력
    - -n : 각 라인의 번호도 함께 출력
    - -v : 명시된 패턴과 일치하지 않는 줄을 출력
    - -c : 패턴과 일치하는 라인수 출력
    - -w : 패턴이 하나의 단어로 된 것만 검색.




## 파일 검색

### find - 파일 찾기

```bash
$ find 경로 검색조건 [동작]
```

* 검색 조건
    - 파일을 찾기 위한 검색 기준.
    - and, or 를 이용하여 조건 결합 가능.

* 동작
    - 파일의 위치를 찾은 후 수행할 동작 지정.
    - 기본 동작은 파일의 절대 경로를 홤녀에 출력

* 경로 설정 예

| 경로 표현 | 찾기 시작 위치 | 
|-|-|
| ~ | 홈 디렉토리에서 찾기 시작| 
| . | 현재 디렉토리에서 찾기 시작 | 
| /etc | /etc 디렉토리에서 찾기 시작(절대 경로) |
| / | /(root) 디렉토리에서 찾기 시작.(전체 파일 시스템 검색) |
| unix | unix 디렉토리에서 찾기 시작 (상대 경로) | 


* 파일 종류 검색

| 문자 | 파일 종류 | 
|-|-|
| d | 디렉토리 파일 |
| f | 일반 파일 |
| l | 심볼릭링크파일 | 
| b | 블록장치특수파일 | 
| c | 문자장치특수파일 | 
| s | 소켓파일 |

* find - 검색조건

| 검색조건 표현 | 의미  | 기능 |
|-|-|-|
| -name filename | 파일 이름 | 특정 파일명에 일치하는 파일 검색 - 메타문자(*,?)사용도 가능하나 ""안에 있어야함.
| -type | 파일 종류 | 특정 파일 종류에 일치하는 파일 검색 | 
| -mtime [+\|-]n <br> -atime[+\|-]n  | 수정(접근)시간 | 수정(접근)시간이 +n일보다 오래되거나, -n일보다 짧거나 정호가히 n일에 일치하는 파일 검색 |
|  -user loginID | 사용자 ID | loginID가 소유한 파일 모든 파일 검색 | 
| -size [+\|-]n | 파일 크기 | +n보다 크거나 -n보다 작거나, 정확히 크기가 n인 파일 검색(n = 512byte)|
| -newer | 기준 시간 | 기준 시간보다 이후에 생성된 파일 검색 | 
| -perm | 사용 권한 | 사용 권한과 일치하는 파일 검색(8진스) | 


* find - 동작

| 동작 | 정의 |
|-|-|
| -exec 명령 {} ₩; | exec 옵션은 ₩으로 끝남. 검색된 파일은  {}위치에 적용. |
| -ok 명령 {} ₩; | exec의 확인모드 형태. 사용자의 확인을 받아야 명령을 적용 |
| -print | 화면에 경로명을 출력 |
| -ls | 긴 목록 형식으로 검색 결과를 출력 | 

* 검색 조건의 결합 기호
    - -a : and(기본)
    - -o : or
    - ! : not


## 명령 검색 : which

```bash
$ which 명령
```

* 명령어 파일의 위치를 찾아서 경로나 엘리어스 출력
* PATH 환경 변수로 지정된 경로에서 파일을 찾음.

```bash
$ which ls
> /usr/bin/ls
```

