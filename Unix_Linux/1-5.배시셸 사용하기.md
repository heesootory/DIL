# 5. 배시 셸 사용하기

## 셸 종류와 변경

* 셸 
    - 사용자와 커널 사이의 중간 역할
    - 사용자가 입력한 명령을 처리하고 실행 결과를 알려줌.
    - 편리한 사용을 위해 다양한 기능 제공.

* 셸의 종류
    - 본셸(sh), 콘 셸(ksh), c셸(csh), 배시 셸(bash) 등
    - 로그인 셸 : 사용자가 로그인 직후 자동으로 생성되는 셸
    - 서브셸 : 사용자가 직접 실행한 셸

### 문자열 출력
* echo
    - 셸 명령과 유틸리티 모두 제공
    - 지정한 문자열 출력
* print
    - 셸 명령
    - 옵션이 제공되어 echo 보다 편리.

### 셸 특수 문자
* \* 특수문자 : 임의의 문자열을 나타냄.
    - ls * : 현재 디렉토리의 모든 파일의 목록을 나열.하위 디렉토리가 있으면,  그 아래의 모든 파일 목록도 보여줌.
    - cp * /tmp : 현재 디렉토리의 모든 파일을 /tmp 디렉토리 아래로 복사. 이 때 하위 디렉토리는 복사안됨.
    - ls -F h* : h1, h, haha 와 같이 h로 시작하는 모든 파일의 이름과 종류를 출력.
    - cp *.c _/tmp : 확장자가 c인 모든 파일들을 상위 디렉토리 밑의 tmp 디렉토리로 복사.
    - ls -l h*d : h로 시작하고 d로 끝나는 모든 파일의 상세 정보 출력.

* ? 와 [] 특수문자
    > 모두 하나의 문자를 나타내는 데 사용.<br>
    > ?는 임의의 한문자. []괄호 안에 포함된 문자 중 하나.<br>
    >[]는 다른 특수문자롸 혼합해 사용 가능.<br>

    - ls hello?.c : hello다음에 임의의 한 문자가 오고, 확장자가 모두 c인 모든 파일을 출력.
    - ls -l [hello[123].c : hello1.c, hello2.c, hello3.c 파일이 있다면 그 파일들의 상세정보 출력.
    - ls -l [hello[1-3].c : 위와 같은 명령
    - ls [0-9]* : 파일명이 숫자로 시작하는 모든 파일 목록 출력.
    - ls [A-Za-Z]*[0-9] : 파일명이 영문자로 시작하고, 숫자로 끝나느 모든 파일을 출력.

* ~와 - 특수 문자
    > 디렉토리를 나타내는 특수 문자<br>
    > ~가 단독으로 사용 -> 사용자의 홈 디렉토리<br>
    > -는 cd 명령으로 디렉토리를 이전하기 직전의 작업 디렉토리

    - cp *.c ~/tmp : 확장자가 c인 모든 파일을 내 홈디렉토리 아래의 tmp 디렉토리로 복사.
    - cp ~user2/hw/report1 : user2라는 사용자 홈 디렉토리 아래의 hw디렉토리의 report1 파일을 찾아 현재 디렉토리로 복사.
    - cd - : 이전 작업 디렉토리로 이동.

* ; 과 | 특수 문자
    > 명령과 명령을 연결 <br>
    > ;은 연결된 명령을 왼쪽부터 차례대로 실행.<br>
    > |는 왼쪽 명령의 실행 결과를 오른쪽 명령의 입력으로 전달 <br>
    > |는 여러 명령을 연결해 사용 가능.

    - cal; ls; pwd : 달력 출력 후, 디렉토리의 파일목록 출력, 마지막으로 현재 작업 디렉토리의 절대경로 출력.
    - ls -al / | more : 루트 디렉토리에 있는 모든 파일의 상세정보를 한화면 씩 출력.
    - who | wc -l : wc -l 명령은 파일의 라인수를 세는 명령이므로, 현재 접속중인 사용자의 수가 출력.

* ''와 "" 특수문자
    > 문자열 안에 사용된 특수 문자의 의미를 없애는 기능. <br>
    > 작음 따옴표는 모든 특수 문자를 처리. <br>
    > 큰 따옴표는 $, `, ₩를 제외한 모든 특수 문자를 일반 문자로 처리

    - echo '$SHELL' : $SHELL 문자열이 화면에 출력.
    - echo "$SHELL" : 셸 환경 변수인 SHELL에 저장된 값인 현재 셸의 종류가 출력.

* ` 특수문자
    > 명령 실행 결과를 문자열로 받고 싶을 때 사용<br>
    > 작음 따옴표와 혼동 주의

    - echo "today is `date`" : 오늘의 날짜가 출력.
    - ls/tmp/`uname -m` : uname -m 명령의 실행결과가 문자열로 바뀌어 디렉토리의 이름으로 사용된다.

* \\(₩) 특수 문자
    > \\(역슬래시)는 특수문자를 일반문자처럼 사용.<br>
    > 특수 문자 앞에 사용되며, 특수 문자 효과를 제거<br>

#### \>, >>, < 특수문자

> 입출력 방향을 바꾸는 특수 문자.<br>
        
> ls -l > res : ls -l 명령의 실행 결과를 res파일에 저장.

* 출력 리다이렉션 : >, >>
    - 파일 덮어쓰기 : 명령 > 파일명 : 새로운 파일로 생성, 기존의 파일 내용은 사라짐.
    - 파일에 내용 추가 : 명령 >> 파일명 : 기존의 파일 내용에 추가.
* 오류 리다이렉션 : 2>
    - 명령 2> 파일명 : 표준 오류 메세지를 파일에 저장

* 입력 리다이렉션 : <
    - 명령 < 파일명 : 표준 입력을 키보드에서 파일로 변경.


### 변수 출력

* 변수 
    - 시스템이나 사용자에 의해 사용되는 정보를 저장하기 위한 저장소.
    - 셸 변수는 관례적으로 대문자를 사용.
* 셸 변수
    - 현재의 셸에서만 사용 가능한 변수.
    - 확인 명령 : set
* 환경 변수
    - 모든 셸에서 사용가능한 변수
    - 확인 명령 : env

### 변수 정의
* 셸 변수
    - 변수 = 값
* 환경 변수
    - 변수 = 값 -> export 변수명
    - export 변수 = 값
* 변수 값 확인
    - set, env로 변수목록 확인가능.
    - echo $변수명

* 변수 해제
    - unset 변수명

### 컨트롤 키

* ctrl + C : 현재 명령 중지.
* ctrl + D : 파일의 끝(혹은 입력의 끝)
* ctrl + S : 화면 출력 정지
* ctrl + Q : 화면 출력 다시 시작.

### 나만의 명령 만들기 : alias

> alias [별칭 = 명령]

* 명령어에 다른 이름을 정의하여 사용.
* 여러 명령어를 하나로 대체 가능
* 명령에 인자가 필요한 경우, 인자를 넘겨주지는 않음.

* 엘리어스 해제 : unalias

### 이전의 입력한 명령 사용하기 : history / fc(bash)

> 히스토리의 장점 : 명령을 재입력하지 않고 반복 실행이 가능.

* ! : 명령 재실행.
* !! : 마지막 명령 실행.
* !n : 현재 명령으로 뒤로 n번째 명령 실행.
* !문자열 : 주어진 문자열로 시작하는 명령 중 마지막 명령.
* ^문자열1^문자열2 : 마지막 명령의 문자열1을 문자열2로 대체하여 다시 실행



## 환경 설정 파일 설정.

### 환경 설정 파일의 종류
* 환경 설정 파일 : 사용자가 로그인할 때 마다 자동으로 실행되는 명령을 저장.
* 시스템 초기화 파일
    - 환경 변수 설정
    - 기본 명령어 경로 설정
    - 기본 터미널 설정
    - 사용자 접속시 관리자의 인사말 출력
* 사용자 초기화 파일
    - 기본 프롬프트로 설정
    - 사용 권한 설정
    - 명령어 경로 설정
    - 사용자 엘리어스 설정
    - 기타 환경 설정

|셸 | 시스템 초기화 파일 | 사용자 초기화 파일 | (실행시기)로그인 | 서브 쉘 | 로그아웃 |
|-|-|-|- |-|-|
| bash  | /etc/profile | $HOME/.bash_profile|0| | |
|       |              | $HOME/.bash_login  |0| | |
|       |              | $HOME/.profile     |0| | |
|       |              | $HOME/.bashrc      | |0| |
|       |              | $HOME/.bash_logout | | |0|
| 콘쉘   | /etc/profile | $HOME/.profile     |0| | |
|       |              | $HOME/.kshrc       |0|0| |
| C쉘   | /etc/.login  | $HOME/.login        |0| | |
|       |              | $HOME/.kshrc       |0|0| |
|       |              | $HOME/.logout      | | |0|









































