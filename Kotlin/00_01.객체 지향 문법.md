# 객체 지향 문법




## 클래스와 오브젝트 초기화

* 이니셜 라이저: 객체가 생성되는 순간 호출되는 것.

```kt
package com.example.kotlinbasics

fun main(){
    var hs = Person("choi", "heesoo")
    var john = Person()
    var joinPeterson = Person(lastName = "Peterson")
}

class Person(firstName: String = "John", lastName: String = "Doe"){
    
    // intializer block
    init {
        println("Intialized a new Person object with" +
                "firstName = $firstName and lastName = $lastName");
    }
}
```

<br>
<br>
<br>



## 변수 영역과 섀도잉


```kt
package com.example.kotlinbasics

fun main(){
    var hs = Person("choi", "heesoo", 31)
    hs.hobby = "to skateboard"
    hs.stateHobby()
    println("hs is ${hs.age} years old")
    var john = Person()
    john.hobby = "play video games"
    john.stateHobby()
    var joinPeterson = Person(lastName = "Peterson")
}

class Person(firstName: String = "John", lastName: String = "Doe"){     // 주 생성자
    // Member Variables - Properties
    var age: Int? = null
    var hobby: String = "watch Netflix"
    var firstName: String? = null

    // intializer block 
    init {
        this.firstName = firstName
        println("Intialized a new Person object with" +
                "firstName = $firstName and lastName = $lastName")
    }

    // Member secondary Constructor - 보조 생성자
    constructor(firstName: String, lastName : String, age : Int)
        : this(firstName, lastName){        // this => 주생성자를 뜻함.
            this.age = age
        println("Intialized a new Person object with" +
                "firstName = $firstName and lastName = $lastName and age = $age")
        }

    // Member functions - Methods
    fun stateHobby(){
        println("$firstName\'s hobby is $hobby")
    }
}
```

```run
Intialized a new Person object withfirstName = choi and lastName = heesoo
Intialized a new Person object withfirstName = choi and lastName = heesoo and age = 31
choi 's hobby is to skateboard
hs is 31 years old
Intialized a new Person object withfirstName = John and lastName = Doe
John 's hobby is play video games
Intialized a new Person object withfirstName = John and lastName = Peterson
```

<br>
<br>
<br>



## 늦은 초기화와 setter, getter

* getter, setter
    - field : 프로퍼티의 값.
    - value : 입력되는 변수.

```kt
package com.example.kotlinbasics

fun main(){
    var myCar = Car()
    println("brand is : ${myCar.myBrand}")
    myCar.maxSpeed = 200
    println("MaxSpeed is ${myCar.maxSpeed}")
}

class Car(){
    // 늦은 초기화
    lateinit var owner : String

    val myBrand: String = "BMW"
        get(){          // custom getter -> 어떤 필드 변수에 접근하는 것이던 lowercase가 적용됨.
            return field.lowercase()
        }

    var maxSpeed : Int = 250
        get() = field       // 기본 게터 -> 게터의 기본설정
        set(value){
            field = if(value > 0) value else throw java.lang.IllegalArgumentException("maxSpeed cannot be less than 0")
        }

    var myModel: String = "M5"
        // 세터를 private 으로 바꾸면 class 밖에서 설정 불가능.
        private set

    // 늦은 초기화 때문에 초기화를 따로 해주지 않으면, 생성자를 생성할 수 X
    init{
        this.owner = "Frank";
    }
}
```

```run
brand is : bmw
MaxSpeed is 200
```

<br>
<br>
<br>




## 데이터 클래스

* 데이터 클래스
    - 추상, 오픈, 봉인, 내부 클래스일 수 없다.
    - 매개변수가 꼭 하나 이상 필요하고, val/var 성격의 매개변수로 생성한다.
    - 간단 명료한 객체 타입을 만들고 사용하고 싶을 떄 사용.

```kt
package com.example.kotlinbasics

/**
 * 데이터 클래스 - 주생성자의 매개변수는 1개이상 존재해야함.(var/val 모두 가능)
 */
data class User(val id: Long, var name : String){

}

fun main(){
    val user1 = User(1, "heesoo")

    user1.name = "Michael"
    val user2 = User(1, "Michael")

    /**
     * 객체 비교
     */
    println(user1.equals(user2))        // true
    println(user1 == user2)     // true

    println("User Detail : $user1")     // toString이 모든 객체에 깔려있기때문에 사용가능.

    /**
     * copy 메서드 - 객체를 복사 가능.
     */
    val updatedUser = user1.copy(name = "heesoo choi")      // 이름만 변경하면서 객체 복사
    println(user1)
    println(updatedUser)

    println(updatedUser.component1())       // 1
    println(updatedUser.component2())       // heesoo choi


    /**
     * 구조 분해 기능
     */
    val(id, name) = updatedUser
    println("id=$id, name=$name")

}

```

<br>
<br>
<br>


## 상속


* Any : 코틀린의 모든 객체는 any 객체를 상속 받음
    - 자바의 Object와 동일.
    - toString, equals 등의 메서드를 전부 상속받기 때문에 어떤 객체던 사용가능.


```kt
package com.example.kotlinbasics

/**
 * Super class, Parent class, Base class
 */
// open 속성의 클래스만 상속 가능
open class Vehicle{

}

/**
 * Sub class, Child class or Derived class of Vehicle
 *  Super class, Parent class, Base class of ElectriCar
 */
open class Car(val name: String, val brand: String) : Vehicle(){
    // open 속성이여야, 자식 클래스에서 override가 가능.
    open var range: Double = 0.0

    fun extendRange(amount: Double){
        if(amount > 0)
            range += amount
    }

    open fun drive(distance: Double){
        println("Drove for $distance KM")
    }
}

/**
 * Sub class, Child class or Derived class of Car
 * 상속받는 class(Car)의 매개변수는 다받아야만 함. -> 매개변수를 그 이상 추가하는 것은 가능.
 */
class ElectricCar(name: String, brand: String, batteryLife: Double) : Car(name, brand){
    var chargerType = "Type1"
    override var range = batteryLife * 6

    // 오버라이딩한 메서드
    override fun drive(distance: Double){
        println("Drove for $distance KM")
    }

    // 서브 클래스에서 새로 생성한 메서드
    fun drive(){
        println("Drove for $range KM")
    }
}

fun main(){
    var audiA3 = Car("A3", "Audi")
    var teslaS = ElectricCar("S-model", "Tesla", 85.0)

    teslaS.chargerType = "Type2"
    teslaS.extendRange(200.0)
    teslaS.drive()      // 85 * 6인 range로 생성 + 200추가 => 710

    // 다형성(ploymorphism)
    audiA3.drive(200.0)
    teslaS.drive(200.0)
}
```

<br>
<br>
<br>

## 인터페이스


