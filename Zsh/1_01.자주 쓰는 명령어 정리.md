# ëª…ë ¹ì–´ ì •ë¦¬

<Br>
<Br>

<hr>
<br>

## ğŸ³ Docker

* root ê³„ì •ìœ¼ë¡œ ë„ì»¤ ì»¨í…Œì´ë„ˆ ì‹¤í–‰(bashì‰˜ë¡œ ì‹¤í–‰)

```zsh
$ exec -u 0 -it [container name] bash
```










<Br>
<hr>
<br>

## ğŸ³ Spring boot 

* ë¹Œë“œí•˜ì§€ ì•Šê³ , ê·¸ëƒ¥ spring í”„ë¡œì íŠ¸ ì‹¤í–‰(maven ì‚¬ìš©ì‹œ)
    - mvnwë§Œ ìˆë‹¤ë©´, maven í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ê²Œ í•´ì¤Œ.
        - mvnw.cmdëŠ” ìœˆë„ìš°ìš© / mvnw.shëŠ” ë§¥ìš©
    - SNAPSHOTíŒŒì¼ì´ ì—†ë‹¤ë©´ íŒ¨í‚¤ì§•ì´ ì•„ì§ ì•ˆëœê²ƒ.
```zsh
$ mvn spring-boot:run
```

* ì´ë¯¸ì¡´ì¬í•˜ëŠ” buildíŒŒì¼ ì‚­ì œ -> compile -> build í•œë²ˆì— ì§„í–‰
```zsh
$ mvn clean compile package
```



<br>
<br>
<hr>
<br>
<br>


## ğŸ³ Server

* í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸

```zsh
$ netstat
```

* íŠ¹ì • í¬íŠ¸ ë²ˆí˜¸ë¡œ í”„ë¡œì„¸ìŠ¤ í™•ì¸
    - :ê³¼ í¬íŠ¸ë²ˆí˜¸ë¥¼ ë„ì›Œì“°ë©´ ì•ˆë¨.
```zsh
$ sudo lsof -i :[port]
```

* íŠ¹ì • í¬íŠ¸ í”„ë¡œì„¸ìŠ¤ ì£½ì´ê¸°

```zsh
$ sudo kill -9 [PID]
```



<br>
<br>
<br>

## ğŸ³ MariaDB

* ì„¤ì¹˜

```zsh
$ brew install mariadb
```


* ì‹œì‘, ì¢…ë£Œ, ìƒíƒœí™•ì¸
    - mariaDB ëŠ” mysqlDBì™€ ì½”ì–´ê°€ ê°™ìœ¼ë¯€ë¡œ, mysql ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©.

```zsh
$ mysql.server start
```
```zsh
$ mysql.server stop
```
```zsh
$ mysql.server status
```


* ì ‘ì†

    - -p: íŒ¨ìŠ¤ì›Œë“œ ì…ë ¥í•´ì„œ ë“¤ì–´ê°€ê¸°

```zsh
$ mysql -uroot
$ mysql -uroot -p  
```

* ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±

```zsh
mysql> create database mydb;
```

* ğŸ”¥ rootê³„ì •ìœ¼ë¡œ ì ‘ì†í• ì‹œ, Access denied ë°œìƒì‹œ ğŸ”¥

```zsh
$ sudo mysql -u root
mysql> use mysql;
mysql> select user,host,plugin FROM mysql.user;
mysql> set password for 'root'@'localhost'=password('test1234');
mysql> flush privileges;
```

* ìŠ¤í‚¤ë§ˆ í™•ì¸

```zsh
mysql> show databases;
```





## ğŸ³ Kafka

* kafak zookepeer ì‹¤í–‰
    - kafka í´ë” ë‚´ì—ì„œ ì‹¤í–‰
```zsh
$ ./bin/zookeeper-server-start.sh ./config/zookeeper.properties
```

* kafka ì„œë²„ ì‹¤í–‰
    - kafka í´ë” ë‚´ì—ì„œ ì‹¤í–‰
```zsh
$ ./bin/kafka-server-start.sh ./config/server.properties
```

* connect ì‹¤í–‰
    - kafka/confluent-6.1.0 ì—ì„œ ì‹¤í–‰

```zsh
$ ./bin/connect-distributed ./etc/kafka/connect-distributed.properties
```

* í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” topicì˜ ëª©ë¡ í™•ì¸
    - kafka í´ë” ë‚´ì—ì„œ ì‹¤í–‰
```zsh
$ ./bin/kafka-topics.sh --bootstrap-server localhost:9092 --list
```

* topic ì‹¤í–‰í•˜ê¸°
    - ì´ë¦„ ì„¤ì •.
    - partitions 1 : íŒŒí‹°ì…˜ ê°¯ìˆ˜ëŠ” 1ê°œ.

```zsh
$ ./bin/kafka-topics.sh --bootstrap-server localhost:9092 --create --topics [topic ì´ë¦„] --partitions 1
```

* ì‹¤í–‰ë˜ê³  ìˆëŠ” topic ìì„¸íˆ ë³´ê¸°
    - kafka í´ë” ë‚´ì—ì„œ ì‹¤í–‰
```zsh
$ ./bin/kafka-topics.sh --bootstrap-server localhost:9092 --describe --topic [topic ì´ë¦„]
```

* producer ì‹¤í–‰
    - kafka í´ë” ë‚´ì—ì„œ ì‹¤í–‰
```zsh
$ ./bin/kafka-console-producer.sh --broker-list localhost:9092 --topic [topic ì´ë¦„]
```


* consumer ì‹¤í–‰
    - kafka í´ë” ë‚´ì—ì„œ ì‹¤í–‰
```zsh
$ ./bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic [topic ì´ë¦„] --from-beginning
```

* connect ì‹¤í–‰
    - cofluent í´ë” ë‚´ì—ì„œ ì‹¤í–‰
    - ì‹¤í–‰ í›„ topic ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•´ ë³´ë©´, connectì— ê´€ë ¨ëœ 3ê°€ì§€ topicì´ ì¶”ê°€ëœê±¸ ë³¼ ìˆ˜ ìˆë‹¤.

```zsh
$ ./bin/connect-distributed.bat . /etc/kafka/connect-distributed.properties
```

* jdbc connecter 
    #### 1. jdbc-connect ì„¤ì •
    - confluentinc-kafka-connect-jdbc-10.6.1.zip ë‹¤ìš´.
    - /Users/heesoo/kafka/confluentinc-kafka-connect-jdbc-10.6.1/lib/kafka-connect-jdbc-10.6.1.jar 
        - ì´ íŒŒì¼ì„ ì‚¬ìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ì¹´í”„ì¹´ ì‹œì‘ë ë•Œ ì‹¤í–‰ë˜ëŠ” ì„¤ì •íŒŒì¼ì— ê²½ë¡œë¥¼ ì„¤ì •í•˜ì.
    - /Users/heesoo/kafka/confluent-6.1.0//etc/kafka/connect-distributed.properties
        - ì´ ì„¤ì •íŒŒì¼ì˜ plugin.path ì— "/Users/heesoo/kafka/confluentinc-kafka-connect-jdbc-10.6.1/lib"(ìœ„ ë””ë ‰í† ë¦¬ ê²½ë¡œ)ë¡œ ì„¤ì •

    #### 2. maria-java-client.jar íŒŒì¼ -> kafka í´ë”ë¡œ ë³µì‚¬.
    ```zsh
    $ cp ./mariadb-java-client-2.7.3.jar /Users/heesoo/kafka/confluent-6.1.0/share/java/kafka
    ```

    - í˜„ì¬ ì‚¬ìš©í•˜ê³  ìˆëŠ” h2DB ì˜ m2í´ë” ì•„ë˜ì— ìˆëŠ” mariadb-java-client-2.7.3.jar íŒŒì¼ì„ confluent ì•„ë˜ì˜ kafka í´ë”ë¡œ ë³µì‚¬.

