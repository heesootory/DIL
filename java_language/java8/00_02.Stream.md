# Stream




## ğŸŒˆ Stream ì†Œê°œ

<br>

### ğŸ³ Stream ì´ë€?

<br>

* sequence of elements supporting sequential and parallel aggregate operations
* ë°ì´í„°ë¥¼ ë‹´ê³  ìˆëŠ” ì €ì¥ì†Œ (ì»¬ë ‰ì…˜)ì´ ì•„ë‹ˆë‹¤.
* Funtional in nature, ìŠ¤íŠ¸ë¦¼ì´ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„° ì†ŒìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.
* ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„°ëŠ” ì˜¤ì§ í•œë²ˆë§Œ ì²˜ë¦¬í•œë‹¤.
* ë¬´ì œí•œì¼ ìˆ˜ë„ ìˆë‹¤. (Short Circuit ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì œí•œí•  ìˆ˜ ìˆë‹¤.)
* ì¤‘ê°œ ì˜¤í¼ë ˆì´ì…˜ì€ ê·¼ë³¸ì ìœ¼ë¡œ lazy í•˜ë‹¤.
    - lazyì˜ ì˜ë¯¸: ì¤‘ê°œ ì˜¤í¼ë ˆì´ì…˜ì€ ì¢…ë£Œ ì˜¤í¼ë ˆì´ì…˜ì´ ë’¤ì— ë™ì‘ëœ ë’¤ì—ì•¼ ë’¤ëŠ¦ê²Œ ì²˜ë¦¬ë˜ë¯€ë¡œ.
* ì†ì‰½ê²Œ ë³‘ë ¬ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
    - forë¬¸ ëŒ€ì‹ ì— ì‚¬ìš©í•˜ëŠ” ê°€ì¥ í° ì´ìœ .

<br>

> ìŠ¤íŠ¸ë¦¼ì— ëŒë‹¤ í•¨ìˆ˜ ì‚¬ìš©.

```java
public class Foo {
    public static void main(String[] args) {

        List<String> names = new ArrayList<>();
        names.add("heesoo");
        names.add("sangmin");
        names.add("yun hye");
        names.add("50");

        Stream<String> stringStream1 = names.stream().map(s -> s.toUpperCase());// ëŒë‹¤
        Stream<String> stringStream2 = names.stream().map(String::toUpperCase);// ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤
        // map í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ëŒ€ë¬¸ìë¡œ ë°”ê¿”ì¤¬ë‹¤ê³  í•´ì„œ, ì»¬ë ‰ì…˜ì— ìˆëŠ” ìš”ì†Œë“¤ì´ ëŒ€ë¬¸ìë¡œ ë°”ë€ŒëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤.
        // ê·¸ëƒ¥ ì§€ë‚˜ê°. -> ê²°êµ­ ë‹¤ì‹œ stream ìœ¼ë¡œ ë°˜í™˜.
    }
}
```

<br>


> ì¤‘ê°œ ì˜¤í¼ë ˆì´í„°ì™€ ì¢…ë£Œ ì˜¤í¼ë ˆì´í„°

```java
public class Foo {

    public static void main(String[] args) {

        List<String> names = new ArrayList<>();

        names.add("heesoo");
        names.add("sangmin");
        names.add("yun hye");
        names.add("50");

        names.stream().map((s) -> {         // ì¤‘ê°œí˜• ì˜¤í¼ë ˆì´í„°ì´ë¯€ë¡œ,
            System.out.println(s);          // ì¶œë ¥ x
            return s.toUpperCase();
        });

        // ì¤‘ê°œí˜• ì˜¤í¼ë ˆì´ì…˜ì€ ì¢…ë£Œ ì˜¤í¼ë ˆì´ì…˜ì´ ë‚˜ì˜¬ë•Œ ê¹Œì§€ ì¶œë ¥ì„ í•˜ì§€ì•ŠìŒ.

        List<String> collect = names.stream().map((s) -> {         // ì¤‘ê°œí˜• ì˜¤í¼ë ˆì´í„°
            System.out.println(s);          // ì¶œë ¥ o (ì†Œë¬¸ìë¡œ ì¶œë ¥)
            return s.toUpperCase();
        }).collect(Collectors.toList());    // ì¢…ë£Œí˜• ì˜¤í¼ë ˆì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ ì¶œë ¥ ê°€ëŠ¥.
        collect.forEach(System.out::println);   // ëŒ€ë¬¸ìë¡œ ë°”ê»´ì„œ ì¶œë ¥.

        System.out.println("====================");

        names.forEach(System.out::println);
    }

}
```

<br>


> stream ë³‘ë ¬ì²˜ë¦¬ ì‚¬ìš©. 

> ì‹œê°„ì¸¡ì • ê²°ê³¼ : ë°˜ë³µë¬¸ < stream < stream ë³‘ë ¬ ì²˜ë¦¬ (ì´ê±° ì™œ ì“°ì§€?)

> ğŸ“š ìŠ¤ë ˆë“œë¥¼ ë‚˜ëˆ„ê±°ë‚˜ ìŠ¤ìœ„ì¹­ í•˜ëŠ”ë“±ì˜ ìˆ˜ê³ ê°€ ë”°ë¥´ê¸° ë•Œë¬¸ì— ë°ì´í„°ê°€ ì ì„ ë•ŒëŠ” ì˜¤íˆë ¤ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë³´ë‹¤ ëŠë¦´ìˆ˜ê°€ ìˆë‹¤. ë³‘ë ¬ ì²˜ë¦¬ê°€ ì“°ì´ëŠ” ê³³ì€ ì •ë§ ë°ì´í„°ê°€ ë§ì„ë•Œì´ê³ , ê·¸ë•ŒëŠ” íš¨ê³¼ì ì´ë‹¤.

> ì™ ë§Œí•˜ë©´, ê·¸ëƒ¥ streamì„ ì“°ëŠ”ê²Œ ë‚«ë‹¤.

```java
public class Foo {

    public static void main(String[] args) {

        List<String> names = new ArrayList<>();

        names.add("heesoo");
        names.add("sangmin");
        names.add("yun hye");
        names.add("50");
        
        // stream ì‚¬ìš©
        List<String> collect1 = names.stream().map((s) -> {
            System.out.println(s);
            return s.toUpperCase();
        }).collect(Collectors.toList());
        collect1.forEach(System.out::println);

        // ë³‘ë ¬ stream ì²˜ë¦¬ ì‚¬ìš©
        List<String> collect2 = names.parallelStream().map(String::toUpperCase)
                .collect(Collectors.toList());
        collect2.forEach(System.out::println);

        // ë°˜ë³µë¬¸ ì‚¬ìš©
        for(String name : names){
            System.out.println(name.toUpperCase());
        }

    }
}
```

<br>

> ë³‘ë ¬ ì²˜ë¦¬ ìŠ¤ë ˆë“œ í™•ì¸

```java
public class Foo {

    public static void main(String[] args) {

        List<String> names = new ArrayList<>();

        names.add("heesoo");
        names.add("sangmin");
        names.add("yun hye");
        names.add("50");

        // ë³‘ë ¬ stream ì²˜ë¦¬ ì‚¬ìš©
        List<String> collect2 = names.parallelStream().map((s) -> {
            System.out.println(s + " " + Thread.currentThread().getName());
            return s.toUpperCase();
        }).collect(Collectors.toList());
        collect2.forEach(System.out::println);

    }
}

```

> ê²°ê³¼ : ëª¨ë‘ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ìˆ˜í–‰ì¤‘!!

<img
    src = "../../Image/java8/0.png"
    width = 400px
    height = 200px
/>




<br>
<br>
<br>


### ğŸ³ ìŠ¤íŠ¸ë¦¼ íŒŒì´í”„ë¼ì¸

<br>

* 0 ë˜ëŠ” ë‹¤ìˆ˜ì˜ ì¤‘ê°œ ì˜¤í¼ë ˆì´ì…˜ (intermediate operation)ê³¼ í•œê°œì˜ ì¢…ë£Œ ì˜¤í¼ë ˆì´ì…˜ (terminal operation)ìœ¼ë¡œ êµ¬ì„±í•œë‹¤.

* ìŠ¤íŠ¸ë¦¼ì˜ ë°ì´í„° ì†ŒìŠ¤ëŠ” ì˜¤ì§ í„°ë¯¸ë„ ì˜¤í¼ë„¤ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œì—ë§Œ ì²˜ë¦¬í•œë‹¤.

<br>

### ğŸ³ ì¤‘ê°œ ì˜¤í¼ë ˆì´ì…˜

<br>

* Streamì„ ë¦¬í„´í•œë‹¤.
* Stateless / Stateful ì˜¤í¼ë ˆì´ì…˜ìœ¼ë¡œ ë” ìƒì„¸í•˜ê²Œ êµ¬ë¶„í•  ìˆ˜ë„ ìˆë‹¤. (ëŒ€ë¶€ë¶„ì€ Statelessì§€ë§Œ distinctë‚˜ sorted ì²˜ëŸ¼ ì´ì „ ì´ì „ ì†ŒìŠ¤ ë°ì´í„°ë¥¼ ì°¸ì¡°í•´ì•¼ í•˜ëŠ” ì˜¤í¼ë ˆì´ì…˜ì€ Stateful ì˜¤í¼ë ˆì´ì…˜ì´ë‹¤.)
* filter, map, limit, skip, sorted, ...

<Br>

### ğŸ³ ì¢…ë£Œ ì˜¤í¼ë ˆì´ì…˜

<br>

* Streamì„ ë¦¬í„´í•˜ì§€ ì•ŠëŠ”ë‹¤.
* collect, allMatch, count, forEach, min, max, ...


<br>
<br>
<hr>
<br>
<br>



## ğŸŒˆ stream API

<br>

### ğŸ³ 

