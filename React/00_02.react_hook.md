# React hook 10가지



<br>
<br>
<hr>
<br>
<br>

## useState 

<br>
<br>
<br>


### useInput 입력 검사



```js
import {useState} from "react";

const useInput = (intialValue, validator) => {
  const [value, setValue] = useState(intialValue);
  const onChange = event => { 
    const {
      target: {value}
    } = event;
    let willUpdate = true;
    if(typeof validator === "function"){
      willUpdate = validator(value);
    }
    if(willUpdate){
      setValue(value);
    }
  }
  return {value, onChange};
}

const App = () => {
    // 입력 검사 함수  

  // 1. @가 들어오면 입력 불가.
  const NotSpecialText = value => !value.includes("@");
  // 2. 최대 길이가 10이하.
  const maxLen = value => value.length <= 10;
  const name = useInput("Mr.", maxLen);
  return (
   <div className="App">
    <h1>Hello!!</h1>
    <input placeholder="Name" {...name}/>  
   </div>
  );
}

export default App;

```

* custom 함수로 만들기

```js
import {useState} from "react";
export const useInput = (intialValue, validator) => {
    const [value, setValue] = useState(intialValue);
    const onChange = event => { 
      const {
        target: {value}
      } = event;
      let willUpdate = true;
      if(typeof validator === "function"){
        willUpdate = validator(value);
      }
      if(willUpdate){
        setValue(value);
      }
    }
    return {value, onChange};
  }
```


### useTabs

```js
const content = [
  {
    tab: "Section 1",
    content: "I'm the content of the Section 1"
  },
  {
    tab: "Section 2",
    content: "I'm the content of the Section 2"
  },
];

const useTabs = (initialTab, allTabs) => {
  const [currentIndex, setCurrentIndex] = useState(initialTab);
  if(!allTabs || !Array.isArray(allTabs)) return;

  return {
    currentItem: allTabs[currentIndex],
    changeItem: setCurrentIndex
  }
}

const App = () => {
  const {currentItem, changeItem} = useTabs(0, content);
  return (
   <div className="App">
    <h1>Hello!!</h1>
    {
      content.map((section, index) => (
        <button onClick={() => changeItem(index)}>{section.tab}</button>
      ))
    }
    <div>{currentItem.content}</div>
   </div>
  );
}

export default App;
```

* custom 함수
    - 여러개의 객체를 export할때는 default 쓰지 X.

```js
import {useState} from "react";

const content = [
    {
      tab: "Section 1",
      content: "I'm the content of the Section 1"
    },
    {
      tab: "Section 2",
      content: "I'm the content of the Section 2"
    },
  ];
  
  const useTabs = (initialTab, allTabs) => {
    const [currentIndex, setCurrentIndex] = useState(initialTab);
    if(!allTabs || !Array.isArray(allTabs)) return;
  
    return {
      currentItem: allTabs[currentIndex],
      changeItem: setCurrentIndex
    }
  }

export {useTabs, content};
```



## useEffect hook

<br>
<br>
<br>

### useTitle

* useState의 상태변경 함수를 return 해주므로써, 그게 hook의 작동 시점이 된다.

```js
import {useState, useEffect} from "react";

const useTitle = (intialTitle) => {
  const [title, setTitle] = useState(intialTitle);
  const updateTitle = () => {
    const htmlTitle = document.querySelector("title");
    htmlTitle.innerText = title;
  };
  useEffect(updateTitle, [title]);
  return setTitle;    // Loading... -> 이후 다른 제목으로 바꾸기 위해서 setTitle함수를 return으로 빼준다.
}

const App = () => {
  const titleUpdater = useTitle("Loading...");    // setTitle 함수를 의미함.
  setTimeout(() => titleUpdater("Home"), 5000);   //  titleUpdater("Home") => setTitle("Home") 
  return (
    <div className="App">
      <h1>Hello!!</h1>
    </div>
    );
}

export default App;

```

<br>
<br>
<br>

### useClick

<br>

```js

```