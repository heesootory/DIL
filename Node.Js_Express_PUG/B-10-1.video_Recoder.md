# Video Recoder

<br>

## index



<br>

---

<br>



## Recoder Setup

![api](/Image/Express/z15.png)

> 1. recorder.js 프론트 단js 파일 생성.
 
> 2. webpack에 recorder:"./src/client/js/recorder.js" 추가후, npm run 재시작해서, assets에 recorder.js 파일 생성 확인.


![api](/Image/Express/z16.png)

> 녹화파일이 들어갈 upload페이지에 프론트 js 파일 추가.

* [녹화 함수 - https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)

![api](/Image/Express/z17.png)


### regeneratorRuntime

> 프론트단js 에서 async,await 사용하려면, 설치해야됨!

```bash
$ npm i regenerator-runtime
```

![api](/Image/Express/z18.png)

> main.js에서  import하고, 전체 페이지에서 받을 수 있도록, base.pug에 js_script추가.

> 녹화가 필요한 프론트단js에 모두 붙여주는 거 보다 정리해서 더 간편하게 사용할 수 있다.


## video preview - stream 활용

> 카메라로부터 얻은 stram을 video element에 담아보자.

![api](/Image/Express/z19.png)

* video의 src객체에 녹화하는 stream을 넣어줌.

* 버튼 클릭시, 녹화 기능 완성!

* stream의 속성값으로 audio : false를 하면 소리 녹음을 안하게 되고, video : {width: 200. height : 100} 으로 녹화의 영상의 크기를 지정할 수 있다.

[srcObjedct란 - https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/srcObject](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/srcObject)


## Recording video


























