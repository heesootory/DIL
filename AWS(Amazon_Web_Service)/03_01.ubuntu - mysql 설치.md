# ubuntu - mysql ì„¤ì¹˜.


<br>
<br>
<br>



## ğŸŒˆ mysql

<br>
<br>

### ğŸ³ ì„¤ì¹˜

```zsh
sudo apt update

# ì„¤ì¹˜ ëª…ë ¹.
sudo apt install mysql-server -y

# ì™¸ë¶€ í¬íŠ¸(ë°©í™”ë²½)ì„ ì—´ì–´ì£¼ê¸°.
sudo ufw allow mysql

sudo mysql;
```

```sql
# ì‚¬ìš©ì ìƒì„±/ë“±ë¡
create user 'ssafy'@'%' IDENTIFIED BY 'ssafy';
// create user '[ì‚¬ìš©ì id]'@'%' IDENTIFIED BY '[ë¹„ë°€ë²ˆí˜¸]';
# ëª¨ë“  ê¶Œí•œ ë¶€ì—¬.
grant all privileges on *.* to 'ssafy'@'%' with grant option;

exit;
```

```zsh
sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf
// bind-address = 127.0.0.1ì—ì„œ
// bind-address = 0.0.0.0 ìœ¼ë¡œ ë°”ê¾¸ê¸°

sudo service mysql restart

# workbenchì—ì„œ ì ‘ì†
```

<br>
<br>


### ğŸ³ ê¸°ë³¸ ëª…ë ¹ì–´

```zsh
# mysql ì‹¤í–‰
sudo systemctl start mysql

# ubuntu ì„œë²„ ì¬ì‹œì‘ì‹œ mysql ìë™ ì¬ì‹œì‘.
sudo systemctl enable mysql
```


### ğŸ³ MySQL ì‚¬ìš©ì ì¡°íšŒ.

> MySQLì˜ ì‚¬ìš©ì ëª©ë¡ì„ ì¡°íšŒí•˜ê¸° ìœ„í•´ì„œ MySQLì˜ ê¸°ë³¸ ìŠ¤í‚¤ë§ˆì¸ mysqlì•ˆì— user í…Œì´ë¸”ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì¡°íšŒ ê°€ëŠ¥.

```zsh
use mysql;          // mysql ìŠ¤í‚¤ë§ˆ ì„ íƒ.
```

```sql
select user, host from user;        // ì‚¬ìš©ì ëª©ë¡ í…Œì´ë¸”ì—ì„œ ì¡°íšŒ.
```

<br>


### ğŸ³ ì‚¬ìš©ì ìƒì„±í•˜ê¸°.

```sql
create user 'ì‚¬ìš©ì'@'host' identified by 'ë¹„ë°€ë²ˆí˜¸';

# ex1) ë‚´ë¶€ ì ‘ê·¼ì„ í—ˆìš©í•˜ëŠ” ì‚¬ìš©ì ì¶”ê°€
create user 'test'@'localhost' identified by '0000';

# ex2) ì™¸ë¶€ ì ‘ê·¼ì„ í—ˆìš©í•˜ëŠ” ì‚¬ìš©ì ì¶”ê°€
create user 'test'@'%' identified by '0000';

# ex3) íŠ¹ì • ipë§Œ ì ‘ê·¼ì„ í—ˆìš©í•˜ëŠ” ì‚¬ìš©ì ì¶”ê°€
create user 'test'@'123.456.789.100' identified by '0000';

# ex4) íŠ¹ì • ip ëŒ€ì—­ì„ í—ˆìš©í•˜ëŠ” ì‚¬ìš©ì ì¶”ê°€
create user 'test'@'192.168.%' identified by '0000';
```

<br>


### ğŸ³ ì‚¬ìš©ì ì œê±°.

```sql
drop user 'ì‚¬ìš©ì';
// í˜¹ì€ 
delete from user where user='ì‚¬ìš©ì';


// example
drop user 'test'@'localhost';
```

<br>

### ğŸ³ ì‚¬ìš©ì ê¶Œí•œ ë¶€ì—¬.

```sql
# ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  í…Œì´ë¸”ì— ëª¨ë“  ê¶Œí•œì„ ì¤Œ
grant all privileges on *.* to 'ì‚¬ìš©ì'@'localhost';

# íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  í…Œì´ë¸”ì— ëª¨ë“  ê¶Œí•œì„ ì¤Œ
grant all privileges on DBì´ë¦„.* to 'ì‚¬ìš©ì'@'localhost';

# íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì˜ íŠ¹ì • í…Œì´ë¸”ì— ëª¨ë“  ê¶Œí•œì„ ì¤Œ
grant all privileges on DBì´ë¦„.í…Œì´ë¸”ëª… to 'ì‚¬ìš©ì'@'localhost';

# íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì˜ íŠ¹ì • í…Œì´ë¸”ì— select ê¶Œí•œì„ ì¤Œ
grant select on DBì´ë¦„.í…Œì´ë¸”ëª… to 'ì‚¬ìš©ì'@'localhost';

# íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì˜ íŠ¹ì • í…Œì´ë¸”ì— select, insert ê¶Œí•œì„ ì¤Œ
grant select, insert on DBì´ë¦„.í…Œì´ë¸”ëª… to 'ì‚¬ìš©ì'@'localhost';

# íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì˜ íŠ¹ì • í…Œì´ë¸”ì˜ ì»¬ëŸ¼1ê³¼ ì»¬ëŸ¼2ì˜ update ê¶Œí•œì„ ì¤Œ
grant update(ì»¬ëŸ¼1, ì»¬ëŸ¼2) on DBì´ë¦„.í…Œì´ë¸”ëª… to 'ì‚¬ìš©ì'@'localhost';
```

<br>


### ğŸ³ ê¶Œí•œ ë°˜ì˜

> ë³€ê²½í•œ ê¶Œí•œì„ ì¦‰ì‹œ ë°˜ì˜ì‹œì¼œì£¼ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ì‹œì¼œì£¼ë©´ ëœë‹¤.

```sql
FLUSH PRIVILEGES;
```


### ğŸ³ ì‚¬ìš©ì ë¹„ë²ˆ ë°”ê¾¸ê¸°

```zsh
# root ê³„ì •ìœ¼ë¡œ ì ‘ì†
mysql -u root -p
```

```sql
# ì‚¬ìš©ì ì •ë³´ê°€ í¬í•¨ëœ mysql DB ì‚¬ìš©.
use mysql;

# ë²„ì ¼ë³„ password ë³€ê²½ ì¿¼ë¦¬ ì ìš©.
# 5.6 ì´í•˜
> update user set password=password('new password') where user = 'root';

# 5.7 ì´ìƒ
> update user set authentication_string=password('new password') where user = 'root';

# 8.x ì´ìƒ
> alter user 'root'@'localhost' identified with mysql_native_password by 'new password';

# ë³€ê²½ì‚¬í•­ ì ìš©.
> flush privileges;
```