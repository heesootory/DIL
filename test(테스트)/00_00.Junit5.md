# Junit5

> ì¸í”„ëŸ° ë°±ê¸°ì„ ë‹˜ì˜ ê°•ì˜ ì •ë¦¬.

<br>
<br>
<hr>
<br>
<br>



## ğŸŒˆ Junit5 ì†Œê°œ

<br>

* ìë°” ê°œë°œìê°€ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬.

* springboot 2.2ë¶€í„° ê¸°ë³¸ Junit ë²„ì ¼ì„ 5ë¥¼ ì±„íƒ.
    - 2.2+ ë²„ì ¼ìœ¼ë¡œ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“ ë‹¤ë©´, ê¸°ë³¸ìœ¼ë¡œ Junit5 ì˜ì¡´ì„±ì´ ì¶”ê°€ë¨.

<br>

### ğŸ³ Junit êµ¬ì¡°

<img
    src = "../Image/junit/0.png"
    width = 500px
    height = 300px
/>

* Junit Platform : í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ì£¼ëŠ” ëŸ°ì²˜ ì œê³µ. TestEngine API ì œê³µ.

* Jupiter: TestEngine API êµ¬í˜„ì²´ë¡œ Junit 5ë¥¼ ì œê³µ.

* Vintage : Junit 3ê³¼ 4ë¥¼ ì§€ì›í•˜ëŠ” TestEngine êµ¬í˜„ì²´.

> ë”°ë¼ì„œ, ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” Junit5ëŠ” Jupiterë¥¼ ì‚¬ìš©í•˜ê²Œ ë¨.

```java
import org.junit.jupiter.api.*;
```

* spring boot í”„ë¡œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´?

```yml
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter-engine</artifactId>
    <version>5.5.2</version>
    <scope>test</scope>
</dependency>
```




<br>
<br>
<hr>
<br>
<br>


## ğŸŒˆ Junit5 ì‹œì‘í•˜ê¸°

<br>

### ğŸ³ Junit5 ê¸°ë³¸ ì–´ë…¸í…Œì´ì…˜

* @Test

* @BeforeAll / @AfterAll
    - í•´ë‹¹ ì „ì²´ testì˜ ì´ì „ê³¼ ì´í›„ì— ì˜¤ëŠ” ë¶€ë¶„.

* @BeforeEach / @AfterEach
    - ë‹¨ìœ„ testë§ˆë‹¤ ì´ì „ê³¼ ì´í›„ì— ì˜¤ëŠ” ë¶€ë¶„.

* @Disables
    - í•´ë‹¹ ë‹¨ìœ„ testë¥¼ ì‹¤í–‰ì‹œí‚¤ê³  ì‹¶ì§€ ì•Šì„ë•Œ.
    - @Test ì•„ë˜ì— ì¶”ê°€.

<br>
<br>

### ğŸ³ Junit5 í…ŒìŠ¤íŠ¸ ì´ë¦„ í‘œì‹œí•˜ê¸°.

* @DisplayNameGeneration
    - Methodì™€ Class ë ˆí¼ëŸ°ìŠ¤ì—ì„œ ëª¨ë‘ ì‚¬ìš©ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì´ë¦„ì„ í‘œê¸°í•˜ëŠ” ë°©ë²• ì„¤ì •.
    - 
    - ê¸°ë³¸ êµ¬í˜„ì²´ë¡œ ReplaceUnderscores ì œê³µ.
        - testëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í•¨ìˆ˜ëª…ìœ¼ë¡œ í‘œê¸°ë˜ëŠ”ë°, í•¨ìˆ˜ëª… ìì²´ë¥¼ ìŠ¤ë„¤ì´í¬ ì¼€ì´ìŠ¤ë¡œ ì ì—ˆì„ ê²½ìš°, ì–¸ë”ë°”ê°€ ëª¨ë‘ ë„ì›Œì“°ê¸°ë¡œ ë°”ë€Œê²Œ ë˜ì„œ ê°€ë…ì„±ì´ ì˜¬ë¼ê°.
        ```java
        @DisplayNameGeneration(DisplayNameGenerator.ReplaceUnderscores.class)
        class StudyTest{

        }
        ```

* DisplayName
    - Method ë ˆí¼ëŸ°ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” í‘œê¸°ë²•.
    - ì–´ë–¤ í…ŒìŠ¤íŠ¸ì¸ì§€ í…ŒìŠ¤íŠ¸ ì´ë¦„ì„ ë³´ë‹¤ ì‰½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•˜ëŠ” ì• ë…¸í…Œì´ì…˜.
    - @DisplayNameGenerationë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ.

<br>
<br>
<br>

### ğŸ³ Assertion

<br>


```java
org.junit.jupiter.api.Assertions.*
```

* assertEquals(expected, actual, "ì‹¤íŒ¨ì‹œ ë‚˜ì˜¤ëŠ” ë©”ì„¸ì§€")
    - ì‹¤ì œ ê°’ê³¼ ê¸°ëŒ€í•œ ê°’ì´ ê°™ì€ì§€ í™•ì¸.
    - ì‹¤íŒ¨ ì‹œ ë‚˜ì˜¤ëŠ” ë©”ì„¸ì§€ëŠ” ë¬¸ìì—´ ì²˜ë¦¬ê°€ ë§ì•„ì§€ëŠ” ê²½ìš°ì—ëŠ” ëŒë‹¤ì‹ìœ¼ë¡œ ì ì„ì‹œ, ì‹¤íŒ¨í• ì‹œì—ë§Œ ë¬¸ìì—´ ì²˜ë¦¬ê°€ ì§„í–‰ë˜ë¯€ë¡œ ì„±ëŠ¥ì ìœ¼ë¡œ ì•½ê°„ ìœ ë¦¬í•  ìˆ˜ ìˆë‹¤. 
        ```java
        assertEquals(StudyStatus.DRAFT, study.getStatus(), "ìŠ¤í„°ë””ë¥¼ ì²˜ìŒ ë§Œë“¤ë©´ ìƒíƒœê°’ì´ DRAFTì—¬ì•¼ í•œë‹¤.");
        // ëŒë‹¤ì‹ë„ ê°€ëŠ¥ => ì„±ëŠ¥ìƒ ì•½ê°„ë” ìœ ë¦¬
        assertEquals(StudyStatus.DRAFT, study.getStatus(), () -> "ìŠ¤í„°ë””ë¥¼ ì²˜ìŒ ë§Œë“¤ë©´ ìƒíƒœê°’ì´ DRAFTì—¬ì•¼ í•œë‹¤.");
        ```


* assertNotNull(actual)
    - ê°’ì´ nullì´ ì•„ë‹Œì§€ í™•ì¸.

* assertTrue(boolean)
    - ë‹¤ìŒ ì¡°ê±´ì´ ì°¸(true)ì¸ì§€ í™•ì¸

* assertAll(executables...)
    - ëª¨ë“  í™•ì¸ êµ¬ë¬¸ í™•ì¸
    - testëŠ” ì‹¤í–‰ìˆœì„œì— ë”°ë¼ ìœ„ì˜ testê°€ ì‹¤íŒ¨í•˜ë©´, ê·¸ ì•„ë˜ì— ì¡´ì¬í•˜ëŠ” testëŠ” ì§„í–‰ì´ ë¶ˆê°€í•œë°, assertAllë¥¼ ì‚¬ìš©í•  ê²½ìš°, ëª¨ë“  testë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜í•¨.
        ```java
        // test ìˆœì„œì— ë”°ë¼ ì§„í–‰í•˜ëŠ” ê²½ìš°
        @Test
        @DisplayName("í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°ğŸˆğŸ“š")
        void create_new_study(){
            Study study = new Study(-10);
            assertNotNull(study);
            assertEquals(StudyStatus.DRAFT, study.getStatus(), "ìŠ¤í„°ë””ë¥¼ ì²˜ìŒ ë§Œë“¤ë©´ ìƒíƒœê°’ì´ DRAFTì—¬ì•¼ í•œë‹¤.");
            assertTrue(study.getLimit() > 0 , "ìŠ¤í„°ë”” ìµœëŒ€ ì°¸ì„ ë©¤ë²„ëŠ” 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.");
        }

        // test ì „ì²´ ì‹¤í–‰.
        @Test
        @DisplayName("í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°ğŸˆğŸ“š")
        void create_new_study(){
            Study study = new Study(-10);
            assertAll(
                () -> assertNotNull(study),
                () -> assertEquals(StudyStatus.DRAFT, study.getStatus(), "ìŠ¤í„°ë””ë¥¼ ì²˜ìŒ ë§Œë“¤ë©´ ìƒíƒœê°’ì´ DRAFTì—¬ì•¼ í•œë‹¤."),
                () -> assertTrue(study.getLimit() > 0 , "ìŠ¤í„°ë”” ìµœëŒ€ ì°¸ì„ ë©¤ë²„ëŠ” 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.")
            );
        }

        ```

* assertThrows(expectedType, executable)
    - ì˜ˆì™¸ ë°œìƒ í™•ì¸
    ```java
    // ì˜ˆì™¸ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìƒì„±ì ì‘ì„±.
    public class Study {
        public Study(int limit){
            if(limit < 0){
                throw new IllegalArgumentException("limitì€ 0ë³´ë‹¤ ì»¤ì•¼ í•œë‹¤.");
            }
            this.limit = limit;
        }
    }

    // -- test ì½”ë“œ --
    // ì˜ˆì™¸ ìƒí™©ì´ ë°œìƒì‹œ, ì—ëŸ¬ ë©”ì„¸ì§€ë„ ì¼ì¹˜ ì—¬ë¶€ test ê°€ëŠ¥.
    @Test
    @DisplayName("í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°ğŸˆğŸ“š")
    void create_new_study(){
        IllegalArgumentException exception =
                assertThrows(IllegalArgumentException.class, () -> new Study(-10));
        assertEquals("limitì€ 0ë³´ë‹¤ ì»¤ì•¼ í•œë‹¤.", exception.getMessage());
    }
    ```



* assertTimeout(duration, executable)
    - íŠ¹ì • ì‹œê°„ ì•ˆì— ì‹¤í–‰ì´ ì™„ë£Œë˜ëŠ”ì§€ í™•ì¸.
        ```java
        @Test
        @DisplayName("í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°ğŸˆğŸ“š")
        void create_new_study(){
            // 100 ë°€ë¦¬ì„¸ì»¨ë§Œì— ëë‚˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë¥¼ ë±‰ìŒ.
            assertTimeout(Duration.ofMillis(100), () -> {
                new Study(10);
                Thread.sleep(300);  // 300 ë°€ë¦¬ì„¸ì»¨ì„ ì¼ë¶€ëŸ¬ ì§¸ê¸°
            });
        }
        ```

* assertThat("ê°€ì ¸ì˜¬ ê°’")
    - ê°’ì„ íŠ¹ì •í•´ì„œ ì¼ë‹¨ ê°€ì ¸ì˜¤ê³ , ë¹„êµí•¨ìˆ˜ë¥¼ í†µí•´ ê°’ì„ ë¹„êµ.
    ```java
    @Test
    @DisplayName("í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°ğŸˆğŸ“š")
    void create_new_study(){
        Study actual = new Study(10);
        assertThat(actual.getLimit()).isGreaterThan(0);
    }
    ```
<br>

### ğŸ³ ì¡°ê±´ì— ë”°ë¼ test ì‹¤í–‰í•˜ê¸°




























## ğŸŒˆ Junit5 ì†Œê°œ


<br>